# ü§ñ Telegram AI Agent (GigaChat)
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Telegram-–±–æ—Ç–∞ –Ω–∞ –±–∞–∑–µ LLM-–∞–≥–µ–Ω—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GigaChat –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –∏ Sentence Transformers –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º–∏ (embeddings).

# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
git clone git@github.com:skulkt/test_telega_rag.git
```

## 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é telega_deploy/app –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env.
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª .env, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```dotenv
TELEGRAM_TOKEN	–í–∞—à —Ç–æ–∫–µ–Ω –æ—Ç BotFather
GIGACHAT_CLIENT_ID	Client ID –∏–∑ –ø–∞–Ω–µ–ª–∏ GigaChat
GIGACHAT_CLIENT_SECRET	Secret key –¥–ª—è GigaChat
GIGACHAT_SCOPE	Scope –∏–∑ –ø–∞–Ω–µ–ª–∏ GigaChat
REDIS_HOST	–•–æ—Å—Ç Redis (–Ω–∞–ø—Ä–∏–º–µ—Ä, redis –∏–∑ docker-compose)
REDIS_PORT	–ü–æ—Ä—Ç Redis (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 6379)
LLM_AGENT_NAME	–ò–º—è –∞–≥–µ–Ω—Ç–∞, —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤ prompt.yaml
SENTENCES_MODEL_DIR	–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ —Å –º–æ–¥–µ–ª—å—é –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ embeddings
```

## üß† –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏ Embeddings

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ–∏—Å–∫–∞ –ø–æ —Å–º—ã—Å–ª–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å Sentence Transformers.

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É embeddings/.

–°–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2).

–†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª—ã –º–æ–¥–µ–ª–∏ —Ç–∞–∫, —á—Ç–æ–±—ã –ø—É—Ç—å –≤—ã–≥–ª—è–¥–µ–ª —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```dotenv
üìÅ embeddings/
‚îî‚îÄ‚îÄ üìÅ paraphrase-multilingual-MiniLM-L12-v2/
    ‚îú‚îÄ‚îÄ config.json
    ‚îú‚îÄ‚îÄ pytorch_model.bin
    ‚îî‚îÄ‚îÄ ... (–æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –º–æ–¥–µ–ª–∏)
```

–í–∞–∂–Ω–æ: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ `SENTENCES_MODEL_DIR` –≤ .env —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø–∞–ø–∫–∏ –º–æ–¥–µ–ª–∏ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ paraphrase-multilingual-MiniLM-L12-v2).

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
```
docker compose -f .\docker-compose.local.yml up -d --build
```

## üíæ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ó–∞–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä –ø–æ –∞–¥—Ä–µ—Å—É 
```
http://localhost:7777/docs
```

–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ñ–∞–π–ª places_data.xlsx) —á–µ—Ä–µ–∑ POST —ç–Ω–¥–ø–æ–∏–Ω—Ç `parse_file`

## üõ† –°—Ç–µ–∫
FastAPI - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫. 
 
Aiogram ‚Äî –¥–ª—è Telegram-–±–æ—Ç–∞.
    
GigaChat ‚Äî  LLM.
    
Redis ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ.
    
Sentence Transformers ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤.

### Advice

–ë–æ–ª—å—à–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GigaChat.
